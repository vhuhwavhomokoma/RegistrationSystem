@page
@model RegistrationSystem.Pages.StudentViewModel
@{
}
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<style>
    .status-indicator {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 5px;
        transition: opacity 0.5s ease-in-out; /* CSS transition for opacity */
    }

    .online {
        background-color: #28a745; /* Green */
    }

    .offline {
        background-color: #dc3545; /* Red */
    }
</style>


<body>
    <!--<img src="https://annedece.sirv.com/Images/user-vector.jpg" class="rounded-circle p-2 bg-white">-->

    <div class="container mt-5">
        <div>
            <span>@Model.studentUser.StudentName:</span>
            <span id="statusIndicator" class="status-indicator"></span>
            <span id="statusText"></span>
        </div>
    </div>
    <main>
        <p></p>
        <p>@Model.studentUser.UserName</p>
        <p>@Model.studentUser.Course</p>
        <div>
            <h2>Enrolled Modules</h2>
            @foreach (var module in Model.courseRegistered)
            {
                <p>@module</p>
            }
            
            
        </div>
        <button onclick="window.location.href='/RegisterView?User=@Model.studentId'">Register</button>
      
    </main>

    



</body>


 <script>
      
        const isUserOnline = true;

        
        function updateUserStatus() {
            const statusIndicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');

            if (isUserOnline) {
                statusIndicator.classList.add('online');
                statusIndicator.classList.remove('offline');
                statusText.textContent = 'Online';
                blinkStatusIndicator(); 
            } else {
                statusIndicator.classList.add('offline');
                statusIndicator.classList.remove('online');
                statusText.textContent = 'Offline';
                stopBlinking(); 
            }
        }

        // Function to toggle blinking effect
        function blinkStatusIndicator() {
            const statusIndicator = document.getElementById('statusIndicator');
            setInterval(() => {
                statusIndicator.style.opacity = (statusIndicator.style.opacity === '0' ? '1' : '0');
            }, 500); 
        }

        // Function to stop blinking effect
        function stopBlinking() {
            const statusIndicator = document.getElementById('statusIndicator');
            statusIndicator.style.opacity = '1'; e
            clearInterval(); 
        }

       
        updateUserStatus();
    </script>